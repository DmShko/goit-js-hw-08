{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAe,CAEjBC,YAAaC,SAASC,cAAc,kBACpCC,UAAWF,SAASC,cAAc,kBAClCE,YAAaH,SAASC,cAAc,oBACpCG,WAAYJ,SAASC,cAAc,WAGvC,SAASI,IACL,OAAOC,KAAKC,MAAMC,aAAaC,QAAQ,uB,CAI3C,MAAMC,EAAeL,IAGD,OAAjBK,IACCZ,EAAaI,UAAUS,MAAQD,EAAaE,MAC5Cd,EAAaK,YAAYQ,MAAQD,EAAaG,SAgClDf,EAAaC,YAAYe,iBAAiB,QAASC,EAAAnB,GAAIoB,EAAEC,UA5BpC,WAEjB,MAAQC,UAAUN,MAAEA,EAAKC,QAAEA,IAAcf,EAAaC,YAGtDS,aAAaW,QAAQ,sBACrBb,KAAKc,UAAU,CAACR,MAAOA,EAAMD,MAAOE,QAASA,EAAQF,Q,GAsBuB,MAChFb,EAAaC,YAAYe,iBAAiB,UAnBrB,SAASO,GAK1B,GAHAA,EAAEC,iBAGkC,KAAjCxB,EAAaI,UAAUS,OAAmD,KAAnCb,EAAaK,YAAYQ,MAC/D,OAAOY,MAAM,8BAEjBC,QAAQC,IAAIpB,KAGZG,aAAakB,MAAM,uBAGnB5B,EAAaC,YAAY4B,O","sources":["src/js/03-feedback.js"],"sourcesContent":["import thr from \"lodash\";\n\nconst elementLinks = {\n    // get element '<form>'\n    formElement: document.querySelector('.feedback-form'),\n    formEmail: document.querySelector('[name=\"email\"]'),\n    formMessage: document.querySelector('[name=\"message\"]'),\n    formButton: document.querySelector('button'),\n}\n\nfunction getStorageValue() {\n    return JSON.parse(localStorage.getItem(\"feedback-form-state\"));\n}\n\n// get storage value\nconst storageValue = getStorageValue();\n\n// autocomplete form after page refresh\nif(storageValue !== null) {\n    elementLinks.formEmail.value = storageValue.email;\n    elementLinks.formMessage.value = storageValue.message;\n} \n\n// handler of 'inputs' event\nconst inputHandler = function() {\n    // get value of 'email' and 'message' fields\n    const { elements: { email, message } } = elementLinks.formElement; \n   \n    // add data to local storage\n    localStorage.setItem(\"feedback-form-state\",  \n    JSON.stringify({email: email.value, message: message.value}));\n}\n\n// handler of 'submit' event\nconst clickHandler = function(e) {\n\n    e.preventDefault();\n\n    // \"submit\" button event\n    if(elementLinks.formEmail.value === \"\" || elementLinks.formMessage.value === \"\") \n        return alert('All fields must be filled!');\n    // output 'input's values\n    console.log(getStorageValue());\n\n    // clear storage\n    localStorage.clear('feedback-form-state');\n\n    // clear 'input's fields\n    elementLinks.formElement.reset();\n};\n\n// add event handler\nelementLinks.formElement.addEventListener('input', thr._.throttle(inputHandler, 500));\nelementLinks.formElement.addEventListener('submit', clickHandler);"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$elementLinks","formElement","document","querySelector","formEmail","formMessage","formButton","$945622fd0f572e60$var$getStorageValue","JSON","parse","localStorage","getItem","$945622fd0f572e60$var$storageValue","value","email","message","addEventListener","$parcel$interopDefault","_","throttle","elements","setItem","stringify","e","preventDefault","alert","console","log","clear","reset"],"version":3,"file":"03-feedback.024284db.js.map"}