{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAe,CAEjBC,YAAaC,SAASC,cAAc,kBACpCC,UAAWF,SAASC,cAAc,kBAClCE,YAAaH,SAASC,cAAc,oBACpCG,WAAYJ,SAASC,cAAc,WAGvC,SAASI,IACL,OAAOC,KAAKC,MAAMC,aAAaC,QAAQ,uB,CAI3C,IAAMC,EAAeL,IAGD,OAAjBK,IACCZ,EAAaI,UAAUS,MAAQD,EAAaE,MAC5Cd,EAAaK,YAAYQ,MAAQD,EAAaG,SAIlD,IAAMC,EAAe,SAASC,GAK1B,GAHAA,EAAEC,iBAGmC,WAAlCD,EAAEE,OAAOC,aAAa,SACW,OAAjCpB,EAAaI,UAAUS,OAAqD,OAAnCb,EAAaK,YAAYQ,MAWlE,OATAQ,QAAQC,IAAIf,KAGZG,aAAaa,QAGbvB,EAAaI,UAAUS,MAAQ,QAC/Bb,EAAaK,YAAYQ,MAAQ,IAMpC,IAAiEW,EAAxBxB,EAAaC,YAA9CwB,SAAYX,EAAKU,EAALV,MAAOC,EAAOS,EAAPT,QAE3BL,aAAagB,QAAQ,sBACrBlB,KAAKmB,UAAU,CAACb,MAAOA,EAAMD,MAAOE,QAASA,EAAQF,Q,EAIzDb,EAAaC,YAAY2B,iBAAiB,QAASC,EAAA/B,GAASgC,EAAEC,SAASf,EAAc,IAAK,CAACgB,UAAY,KACvGhC,EAAaC,YAAY2B,iBAAiB,QAASZ,E","sources":["src/js/03-feedback.js"],"sourcesContent":["import Debounce from \"lodash\";\n\nconst elementLinks = {\n    // get element '<form>'\n    formElement: document.querySelector('.feedback-form'),\n    formEmail: document.querySelector('[name=\"email\"]'),\n    formMessage: document.querySelector('[name=\"message\"]'),\n    formButton: document.querySelector('button'),\n}\n\nfunction getStorageValue() {\n    return JSON.parse(localStorage.getItem(\"feedback-form-state\"));\n}\n\n// get storage value\nconst storageValue = getStorageValue();\n\n// autocomplete form after page refresh\nif(storageValue !== null) {\n    elementLinks.formEmail.value = storageValue.email;\n    elementLinks.formMessage.value = storageValue.message;\n} \n\n// handler of '<form>' event\nconst eventHandler = function(e) {\n\n    e.preventDefault();\n\n    // \"submit\" button event\n    if(e.target.getAttribute(\"type\") === \"submit\" \n    && elementLinks.formEmail.value !== null && elementLinks.formMessage.value !== null) {\n       // output 'input's values\n       console.log(getStorageValue());\n\n       // clear storage\n       localStorage.clear();\n\n       // clear 'input's fields\n       elementLinks.formEmail.value = \"\";\n       elementLinks.formMessage.value = \"\";\n\n       return;\n    }\n\n    // get value of 'email' and 'message' fields\n    const { elements: { email, message } } = elementLinks.formElement; \n   \n    localStorage.setItem(\"feedback-form-state\",  \n    JSON.stringify({email: email.value, message: message.value}));\n};\n\n// add '<form>' event handler\nelementLinks.formElement.addEventListener('input', Debounce._.debounce(eventHandler, 500, {\"trailing\": true}));\nelementLinks.formElement.addEventListener('click', eventHandler);"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$elementLinks","formElement","document","querySelector","formEmail","formMessage","formButton","$b00c40859be242c5$var$getStorageValue","JSON","parse","localStorage","getItem","$b00c40859be242c5$var$storageValue","value","email","message","$b00c40859be242c5$var$eventHandler","e","preventDefault","target","getAttribute","console","log","clear","_elements","elements","setItem","stringify","addEventListener","$parcel$interopDefault","_","debounce","trailing"],"version":3,"file":"03-feedback.2602cdea.js.map"}